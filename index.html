<!DOCTYPE html>
<html lang="zxx">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="DreamStreamer Music Streaming" />
    <meta name="keywords" content="music, streaming, DreamStreamer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>DreamStreamer</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <link rel="stylesheet" href="./styles/index.css" />
  </head>

  <body>
    <!-- Header Section Begin -->
    <header class="header">
      <div class="header__logo">
        <img src="./images/logo-n.png" alt="DreamStreamer Logo" />
        <h3>DreamStreamer</h3>
      </div>
      <div class="header__nav">
        <nav class="header__menu">
          <ul>
            <li><a href="#about">About</a></li>
            <li><a href="#albums">Albums & Tracks</a></li>
            <li><a href="#community">Community</a></li>
            <li><a href="#" id="view-albums">View Albums</a></li>
          </ul>
        </nav>

        <a
          href="https://dream-streamer.auth.us-east-1.amazoncognito.com/oauth2/authorize?client_id=6bsrtbnlgldgpdfcr7l9j0ajuc&response_type=code&scope=aws.cognito.signin.user.admin+email+openid+phone+profile&redirect_uri=https%3A%2F%2Fd3olgxgavi4bx6.cloudfront.net%2Flogged_in.html"
          class="login-button"
          id="login-link"
        >
          <button>Login</button>
        </a>
      </div>
    </header>
    <!-- Header Section End -->

    <!-- Hero Section Begin -->
    <section class="hero" style="background-image: url('images/hero-bg.webp')">
      <div class="hero__text">
        <span>Discover Your Next Favorite Track</span>
        <h1>Stream the Beats</h1>
        <p>
          Discover your next favorite track and let your musical dreams come
          true with DreamStreamer. <br />
          Start listening today!
        </p>
      </div>
    </section>
    <!-- Hero Section End -->

    <section class="about" id="about">
      <div class="container">
        <div class="about-pic">
          <img src="images/music.jpg" alt="DreamStreamer About" />
        </div>
        <div class="about-text">
          <div class="section-title">
            <h2>DreamStreamer</h2>
            <h1>About</h1>
          </div>
          <p>
            DreamStreamer is an AI-powered music streaming platform that
            delivers personalized music recommendations tailored to your unique
            taste. By analyzing your listening habits, DreamStreamer introduces
            you to new tracks, albums, and artists you'll love. Discover,
            explore, and subscribe to a service that brings your perfect
            soundtrack to life!
          </p>
        </div>
      </div>
    </section>

    <section class="albums spad" id="albums">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="section-title">
              <h2>Albums</h2>
              <p>
                Discover a sneak peek of our musical journeyâ€”more incredible
                albums await!
              </p>
            </div>
          </div>
        </div>
        <div class="row albums-container">
          <!-- Album cards will be dynamically inserted here -->
        </div>
      </div>
    </section>

    <!-- Track Section Begin -->
    <section class="track spad">
      <div class="container">
        <div class="track-left">
          <div class="section-title">
            <h2>Latest tracks</h2>
            <h1>Discover</h1>
          </div>
          <div class="track-container">
            <div class="track-list">
              <!-- Track cards will be dynamically inserted here -->
            </div>
          </div>
        </div>

        <div class="track-image-container">
          <img src="/images/dj.jpeg" alt="About Image" class="track-image" />
        </div>
      </div>
    </section>
    <!-- Track Section End -->

    <section class="subscribe" id="community">
      <div class="container">
        <div class="subscribe__content">
          <h2>DreamStreamer Community</h2>
          <p>
            Want to be the first to know when new albums are added?
            <strong>Create a DreamStreamer account</strong> and subscribe for
            free! <br />
            You'll receive email notifications every time fresh albums drop.
            Don't worry, you can unsubscribe anytime, hassle-free.
          </p>
          <a
            href="https://dream-streamer.auth.us-east-1.amazoncognito.com/oauth2/authorize?client_id=6bsrtbnlgldgpdfcr7l9j0ajuc&response_type=code&scope=aws.cognito.signin.user.admin+email+openid+phone+profile&redirect_uri=http%3A%2F%2Flocalhost%3A5500%2Flogged_in.html"
            class="subscribe-button"
          >
            <button>Create Account & Subscribe</button>
          </a>
          <p class="subscribe__note">
            Subscription is completely free, and you can opt-out anytime!
          </p>
        </div>
      </div>
    </section>

    <section class="benefits">
      <div class="container">
        <div class="benefits__content">
          <div class="benefits-left">
            <div class="benefits__header">
              <h2>Why Create a DreamStreamer Account?</h2>
              <p>
                Unlock the full potential of DreamStreamer with a free account!
                By signing up, you'll gain access to:
              </p>
            </div>
            <div class="benefits__cards">
              <!-- Card 1: Subscribe -->
              <div class="benefit-card">
                <div class="benefit-icon">
                  <i class="fas fa-envelope"></i>
                </div>
                <h3>Subscribe</h3>
                <p>Get email alerts whenever new albums are added.</p>
              </div>

              <!-- Card 2: Purchase Albums -->
              <div class="benefit-card">
                <div class="benefit-icon">
                  <i class="fas fa-shopping-cart"></i>
                </div>
                <h3>Purchase Albums</h3>
                <p>Buy albums directly from your favorite artists.</p>
              </div>

              <!-- Card 3: Download Tracks -->
              <div class="benefit-card">
                <div class="benefit-icon">
                  <i class="fas fa-download"></i>
                </div>
                <h3>Download Tracks</h3>
                <p>Download music to enjoy offline whenever you want.</p>
              </div>

              <!-- Card 4: Like & Save Tracks -->
              <div class="benefit-card">
                <div class="benefit-icon">
                  <i class="fas fa-heart"></i>
                </div>
                <h3>Like & Save Tracks</h3>
                <p>
                  Curate your personal playlist by liking and saving tracks.
                </p>
              </div>
            </div>
          </div>
          <div class="benefits-right">
            <img src="/images/about.jpg" alt="DreamStreamer Image" />
          </div>
        </div>
      </div>
    </section>

    <!-- Footer Section Begin -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-logo">
            <img src="./images/logo-n.png" alt="DreamStreamer Logo" />
            <h3>DreamStreamer</h3>
          </div>
          <p>&copy; 2024 DreamStreamer. All rights reserved.</p>
        </div>
      </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Js Plugins -->
    <script src="scripts/jquery-3.3.1.min.js"></script>
    <script>
      // Handle the click event for the "View Albums" link
      document
        .getElementById("view-albums")
        .addEventListener("click", function (event) {
          event.preventDefault(); // Prevent the default link action

          // Prompt the user to log in
          if (
            confirm(
              "You need to log in to view albums. Would you like to log in now?"
            )
          ) {
            window.location.href = document.getElementById("login-link").href;
          }
        });

      // Handle the background image setting
      $(".set-bg").each(function () {
        var bg = $(this).data("setbg");
        $(this).css("background-image", "url(" + bg + ")");
      });

      document.addEventListener("DOMContentLoaded", function () {
        const albumsContainer = document.querySelector(".albums-container");

        fetch(
          "https://nnvieofzae.execute-api.us-east-1.amazonaws.com/dev/albums"
        )
          .then((response) => response.json())
          .then((data) => {
            const albums = data.Items;
            const randomAlbums = [];

            // Select 3 random albums
            while (randomAlbums.length < 3) {
              const randomIndex = Math.floor(Math.random() * albums.length);
              if (!randomAlbums.includes(albums[randomIndex])) {
                randomAlbums.push(albums[randomIndex]);
              }
            }

            // Create album cards
            randomAlbums.forEach((album) => {
              const albumCard = document.createElement("div");
              albumCard.classList.add("album-card"); // Use album-card class
              albumCard.innerHTML = `
                    <div class="album__item">
                        <div class="album-item-pic" style="background-image: url('${album.AlbumArtURL}'); height: 200px; background-size: cover; border-radius: 10px;">
                            <div class="tag-date">
                                <span>${album.AlbumYear}</span>
                            </div>
                        </div>
                        <div class="album-item-text">
                            <h4>${album.AlbumName}</h4>
                        </div>
                    </div>
                `;
              albumsContainer.appendChild(albumCard);
            });
          })
          .catch((error) => console.error("Error fetching albums:", error));
      });

      document.addEventListener("DOMContentLoaded", function () {
        const trackContainer = document.querySelector(".track-container");

        fetch(
          "https://nnvieofzae.execute-api.us-east-1.amazonaws.com/dev/tracks"
        )
          .then((response) => response.json())
          .then((data) => {
            const tracks = data.Items;
            const randomTracks = [];

            // Select 3 random tracks
            while (randomTracks.length < 3) {
              const randomIndex = Math.floor(Math.random() * tracks.length);
              if (!randomTracks.includes(tracks[randomIndex])) {
                randomTracks.push(tracks[randomIndex]);
              }
            }

            // Create track cards
            randomTracks.forEach((track) => {
              const trackCard = document.createElement("div");
              trackCard.classList.add("col-lg-4", "track-item");

              trackCard.innerHTML = `
          <div class="track__item">
            <h4>${track.Name}</h4>
            <audio controls>
              <source src="${track.TrackURL}" type="audio/mpeg">
              Your browser does not support the audio tag.
            </audio>
          </div>
        `;

              trackContainer.appendChild(trackCard);
            });
          })
          .catch((error) => console.error("Error fetching tracks:", error));
      });

      // Smooth scroll functionality for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();

          const target = document.querySelector(this.getAttribute("href"));
          target.scrollIntoView({
            behavior: "smooth",
          });
        });
      });
    </script>
  </body>
</html>
